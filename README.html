<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>パートナー要員管理システム - 操作マニュアル</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      line-height: 1.6;
      color: #333;
      max-width: 1200px;
      margin: 0 auto;
      padding: 20px;
    }
    h1 {
      color: #2c3e50;
      border-bottom: 2px solid #3498db;
      padding-bottom: 10px;
    }
    h2 {
      color: #2980b9;
      margin-top: 30px;
    }
    h3 {
      color: #3498db;
    }
    .system-overview {
      background-color: #f8f9fa;
      padding: 20px;
      border-radius: 5px;
      margin-bottom: 30px;
      border-left: 4px solid #3498db;
    }
    .architecture {
      background-color: #f0f7fb;
      padding: 20px;
      border-radius: 5px;
      margin-bottom: 30px;
    }
    .key-features {
      background-color: #f5f5f5;
      padding: 20px;
      border-radius: 5px;
      margin-bottom: 30px;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      margin: 20px 0;
    }
    table, th, td {
      border: 1px solid #ddd;
    }
    th, td {
      padding: 12px;
      text-align: left;
    }
    th {
      background-color: #f2f2f2;
    }
    .screenshot {
      max-width: 100%;
      height: auto;
      display: block;
      margin: 20px 0;
      border: 1px solid #ddd;
      border-radius: 5px;
    }
    .tech-stack {
      margin-bottom: 20px;
    }
    .feature-list {
      list-style-type: none;
      padding-left: 0;
    }
    .feature-list li {
      padding: 8px 0;
      border-bottom: 1px solid #eee;
    }
    .feature-list li:before {
      content: "✓ ";
      color: #27ae60;
      font-weight: bold;
    }
    .highlight {
      background-color: #ffffcc;
      padding: 2px 5px;
      border-radius: 3px;
    }
    .architecture-diagram {
      width: 100%;
      max-width: 800px;
      margin: 20px auto;
      display: block;
    }
    .flow-diagram {
      width: 100%;
      max-width: 600px;
      margin: 20px auto;
      display: block;
    }
  </style>
</head>
<body>
  <div class="system-overview">
    <h1>パートナー要員管理システム</h1>
    <p>パートナー要員管理システム（Partner Management System: PMS）は、システム開発等で協業するパートナー会社およびその会社に所属する要員（エンジニア等）に関する情報を一元的に管理するためのシステムです。案件情報の登録・管理、パートナー会社への案件募集、応募者の選考プロセス管理、要員情報・契約情報の管理、プロジェクト終了後の要員評価など、パートナー要員管理業務の一連のフローをシステム上で完結させることができます。</p>

    <p>本システムの最大の特長は、これまで別々に管理されていた<strong>開発担当者</strong>と<strong>パートナー管理担当者</strong>間の情報を一元化している点です。開発担当者はプロジェクトで必要となる要員の案件情報を起案し、パートナー管理担当者はそれを承認してパートナー会社への募集を行います。さらに、応募者の選考プロセスや採用後の契約管理、評価情報まで一貫して共有できるため、「言った・言わない」などのコミュニケーションギャップが解消され、透明性の高い業務フローを実現しています。また、単価変更依頼やクレーム連絡などの各種依頼も正式なワークフローとして記録・管理されるため、両者の円滑な業務連携を強力に支援します。</p>
    
    <h3>主な特徴</h3>
    <ul class="feature-list">
      <li>パートナー会社、案件、要員、契約などの情報を一元管理</li>
      <li>案件登録や契約関連の依頼・承認プロセスのシステム化</li>
      <li>エクセルライクなインターフェースによる直感的な操作</li>
      <li>多彩な検索・フィルタリング機能</li>
      <li>権限に基づいた適切なアクセス制御</li>
      <li>レスポンシブデザインによる多様なデバイスでの利用</li>
      <li>各種データのエクスポート機能</li>
    </ul>
  </div>

  <div class="architecture">
    <h2>システムアーキテクチャ</h2>
    <p>本システムは、最新のウェブ技術を駆使した3層アーキテクチャで構成されています。</p>

    <div class="tech-stack">
      <h3>技術スタック</h3>
      <table>
        <tr>
          <th>層</th>
          <th>技術</th>
          <th>主な役割</th>
        </tr>
        <tr>
          <td rowspan="6">フロントエンド</td>
          <td>React 18.x</td>
          <td>UIコンポーネントライブラリ</td>
        </tr>
        <tr>
          <td>TypeScript 5.x</td>
          <td>型安全な開発言語</td>
        </tr>
        <tr>
          <td>ag-Grid Community/React</td>
          <td>高機能データグリッド表示</td>
        </tr>
        <tr>
          <td>Zustand</td>
          <td>状態管理</td>
        </tr>
        <tr>
          <td>React Hook Form + Zod</td>
          <td>フォーム管理とバリデーション</td>
        </tr>
        <tr>
          <td>Axios</td>
          <td>HTTP通信</td>
        </tr>
        <tr>
          <td rowspan="5">バックエンド</td>
          <td>NestJS 10.x</td>
          <td>バックエンドフレームワーク</td>
        </tr>
        <tr>
          <td>TypeScript 5.x</td>
          <td>型安全な開発言語</td>
        </tr>
        <tr>
          <td>TypeORM</td>
          <td>ORMツール</td>
        </tr>
        <tr>
          <td>Passport</td>
          <td>認証ライブラリ</td>
        </tr>
        <tr>
          <td>JWT</td>
          <td>トークンベース認証</td>
        </tr>
        <tr>
          <td>データベース</td>
          <td>SQLite/PostgreSQL</td>
          <td>リレーショナルデータベース</td>
        </tr>
      </table>
    </div>

    <h3>データフロー</h3>
    <ol>
      <li>ユーザーがフロントエンドのUIでアクションを実行</li>
      <li>Reactコンポーネントが状態更新を行い、必要に応じてAPIリクエストを送信</li>
      <li>バックエンドのNestJSアプリケーションがリクエストを受け取り、認証・認可を確認</li>
      <li>バックエンドのサービスレイヤーがビジネスロジックを実行</li>
      <li>TypeORMを通じてデータベースとやり取り</li>
      <li>処理結果をフロントエンドに返却</li>
      <li>フロントエンドがUIを更新してユーザーに表示</li>
    </ol>
  </div>

  <div class="key-features">
    <h2>システムの工夫点</h2>

    <h3>1. エクセルライク編集機能</h3>
    <p>ag-Grid Community/Reactを活用し、Excel感覚でデータを直接編集できる機能を実装しています。この機能により、一覧画面上で複数のデータを同時に編集でき、業務効率が大幅に向上します。</p>
    <ul>
      <li>セルの直接編集（ダブルクリックで編集開始）</li>
      <li>Tab/Enterキーでのセル間移動</li>
      <li>複数セル選択と一括編集</li>
      <li>コピー＆ペースト機能</li>
      <li>変更されたデータの視覚的なハイライト表示</li>
      <li>一括保存機能</li>
    </ul>

    <h3>2. 型共有メカニズム</h3>
    <p>TypeScriptの型システムを最大限に活用し、フロントエンドとバックエンド間で型定義を共有するメカニズムを実装しています。これにより、両者間の一貫性が保たれ、型の不一致によるバグを防止しています。</p>
    <ul>
      <li>shared-typesパッケージによる型定義の一元管理</li>
      <li>バックエンドのエンティティからフロントエンド用の型を自動生成</li>
      <li>DTOの共有による入力バリデーションの一貫性確保</li>
    </ul>

    <h3>3. 業務プロセスのワークフロー化</h3>
    <p>案件申請や単価変更依頼などの業務プロセスをワークフロー化し、適切な承認フローを経て処理が進む仕組みを実装しています。これにより、業務の透明性と追跡可能性が高まります。</p>
    <ul>
      <li>申請・承認・差し戻しのステータス管理</li>
      <li>承認権限に基づいたアクセス制御</li>
      <li>承認履歴の記録と参照機能</li>
      <li>通知機能による関係者への自動連絡</li>
    </ul>

    <h3>4. 階層型フィルタリング機能</h3>
    <p>事業部と部のような階層構造を持つデータに対して、直感的なフィルタリング機能を実装しています。上位階層（事業部）を選択すると、それに関連する下位階層（部）の選択肢が動的に変化します。</p>
    <ul>
      <li>事業部・部フィルターコンポーネントの実装</li>
      <li>関連データの動的フィルタリング</li>
      <li>フィルター状態の保存機能</li>
    </ul>

    <h3>5. 高度なデータグリッド機能</h3>
    <p>ag-Gridの機能を拡張したカスタムデータグリッドコンポーネントを実装し、大量データの効率的な表示と操作を可能にしています。</p>
    <ul>
      <li>カスタムセルレンダラー（ステータス表示、タグ表示など）</li>
      <li>カスタムセルエディタ（日付選択、ドロップダウン、タグ入力、数値入力など）</li>
      <li>高度なソート・フィルタリング機能</li>
      <li>行追加・削除機能</li>
      <li>データエクスポート機能</li>
    </ul>

    <h3>6. フォームコンポーネントの再利用性</h3>
    <p>React Hook FormとZodを組み合わせた再利用可能なフォームコンポーネントを実装し、入力フォームの作成と検証を効率化しています。</p>
    <ul>
      <li>型安全なフォームバリデーション</li>
      <li>再利用可能な入力コンポーネント</li>
      <li>エラーメッセージの一元管理</li>
    </ul>
  </div>

  <h2>操作マニュアル</h2>
  <p>以下、システムの各機能の操作方法を説明します。</p>

  <h3>1. システムログイン画面</h3>
  <p>システムを利用するには、まずログイン画面からユーザーIDとパスワードを入力してログインします。IDとパスワードは管理者から発行されます。「ログイン」ボタンをクリックするとシステムにアクセスできます。</p>
  <p><img src="images/image5.png" alt="システムログイン画面" class="screenshot"></p>
  
  <h3>2. ダッシュボード画面</h3>
  <p>ログイン後、最初に表示されるのがダッシュボード画面です。ここでは、システム全体の概況（案件数、要員数など）や最近の更新情報、アラート（契約期限が近いものなど）が表示されます。左側のサイドバーから各機能にアクセスできます。</p>
  <p><img src="images/image1.png" alt="ダッシュボード画面" class="screenshot"></p>
  
  <h3>3. パートナー会社一覧画面</h3>
  <p>登録されているパートナー会社の一覧を表示します。会社名、住所、ステータスなどの基本情報が表示され、検索ボックスで会社名などを検索できます。「新規登録」ボタンで新しいパートナー会社を追加できます。また、「編集モード」ボタンをクリックすると、Excel感覚で直接データを編集できるモードに切り替わります。</p>
  <p><img src="images/image11.png" alt="パートナー会社一覧画面" class="screenshot"></p>
  
  <h3>4. パートナー会社詳細画面</h3>
  <p>特定のパートナー会社の詳細情報を表示します。基本情報のほか、「反社チェック」「基本契約」「営業窓口」などのタブで関連情報を確認できます。画面右上の「編集」ボタンで編集モードに切り替えられます。</p>
  <p><img src="images/image2.png" alt="パートナー会社詳細画面" class="screenshot"></p>
  
  <h3>5. 反社チェック画面</h3>
  <p>パートナー会社の反社会的勢力チェックの情報を管理する画面です。チェック実施日、実施者、チェック結果、有効期限などを登録し、関連書類をアップロードできます。定期的なチェックの実施と記録を支援し、コンプライアンス面でのリスク管理を強化します。</p>
  <p><img src="images/image10.png" alt="反社チェック画面" class="screenshot"></p>
  
  <h3>6. 案件一覧画面</h3>
  <p>登録されている案件の一覧を表示します。案件名、担当部署、開始・終了日、ステータスなどの情報が表示されます。画面上部の検索ボックスや「事業部・部フィルター」で案件を絞り込むことができます。「編集モード」ボタンで一括編集モードに切り替わります。</p>
  <p><img src="images/image7.png" alt="案件一覧画面" class="screenshot"></p>
  
  <h3>7. 案件一覧の編集モード</h3>
  <p>案件一覧画面の編集モードです。Excel感覚で複数の案件情報を一括で編集できます。案件の基本情報、日付、ステータスなどを効率的に編集でき、必要スキルなどはカスタムセルエディタで簡単に編集できます。変更は一括保存されます。</p>
  <p><img src="images/image14.png" alt="案件一覧の編集モード" class="screenshot"></p>
  
  <h3>8. 要員一覧画面</h3>
  <p>登録されている要員（エンジニアなど）の一覧を表示します。氏名、所属パートナー会社、スキル、ステータスなどの情報が表示されます。検索ボックスを使用して、氏名やスキルなどで検索できます。「編集モード」ボタンで一括編集モードに切り替わります。</p>
  <p><img src="images/image9.png" alt="要員一覧画面" class="screenshot"></p>
  
  <h3>9. 要員一覧画面の編集モード</h3>
  <p>要員一覧画面の編集モードです。エンジニア情報をエクセルライクなインターフェースで編集できます。氏名、所属会社、電話、メール、スキル情報などを一括で編集でき、変更はリアルタイムで追跡されます。スキル情報はタグエディタを使用して簡単に編集できます。</p>
  <p><img src="images/image15.png" alt="要員一覧画面の編集モード" class="screenshot"></p>
  
  <h3>10. 契約一覧画面</h3>
  <p>登録されている契約の一覧を表示します。契約相手、契約期間、金額、ステータスなどの情報が表示されます。検索やフィルタリングで必要な契約情報を素早く見つけることができます。</p>
  <p><img src="images/image3.png" alt="契約一覧画面" class="screenshot"></p>
  
  <h3>11. 要員評価一覧</h3>
  <p>特定の要員に対する評価情報の一覧を表示します。評価者、評価日、評価項目（スキル合致度、成果物品質、コミュニケーション能力など）ごとのスコア、総合評価コメントなどが表示されます。これにより、要員のパフォーマンス履歴を把握できます。</p>
  <p><img src="images/image12.png" alt="要員評価一覧" class="screenshot"></p>
  
  <h3>12. 通知一覧</h3>
  <p>システム内で発生した通知の一覧を表示します。未読/既読の管理、重要度によるフィルタリング、通知内容の詳細表示などが可能です。契約期限の接近、申請・承認状況の変更、新規応募などの重要なイベントを見逃さないようサポートします。</p>
  <p><img src="images/image4.png" alt="通知一覧" class="screenshot"></p>
  
  <h3>13. レポート画面</h3>
  <p>システムに蓄積されたデータを様々な角度から集計・分析し、業務状況の把握や意思決定に役立つレポートを作成・出力する画面です。パートナー会社別取引実績、案件別応募状況、スキル別要員リストなど、多様なレポートを生成できます。</p>
  <p><img src="images/image8.png" alt="レポート画面" class="screenshot"></p>
  
  <h3>14. マスターデータ管理</h3>
  <p>システム全体で共通して使用される選択肢や分類項目を一元的に管理する画面です。スキル項目、役職、契約種別、各種ステータス、評価項目など、マスターデータの追加・編集・削除ができます。これにより、システム内での用語や分類の一貫性を確保しています。</p>
  <p><img src="images/image13.png" alt="マスターデータ管理" class="screenshot"></p>
  
  <h3>15. ユーザ管理</h3>
  <p>システム利用者のアカウント情報を管理する画面です。新規ユーザーの追加、ユーザー情報の編集（氏名、所属、メールアドレス等）、アカウントの無効化、ロールの割り当てなどができます。各ユーザーの適切な権限設定により、セキュアなシステム運用を実現しています。</p>
  <p><img src="images/image6.png" alt="ユーザ管理" class="screenshot"></p>
</body>
</html>